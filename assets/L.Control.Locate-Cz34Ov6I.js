import{r as m,g}from"./index-CQf0ZAbx.js";function k(l,c){for(var i=0;i<c.length;i++){const o=c[i];if(typeof o!="string"&&!Array.isArray(o)){for(const s in o)if(s!=="default"&&!(s in l)){const a=Object.getOwnPropertyDescriptor(o,s);a&&Object.defineProperty(l,s,a.get?a:{enumerable:!0,get:()=>o[s]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}var u={exports:{}};/*!
Copyright (c) 2016 Dominik Moritz

This file is part of the leaflet locate control. It is licensed under the MIT license.
You can find the project at: https://github.com/domoritz/leaflet-locatecontrol
*/var p;function y(){return p||(p=1,(function(l,c){(function(i,o){typeof o<"u"&&o.L?l.exports=i(L):l.exports=i(m()),typeof o<"u"&&o.L&&(o.L.Control.Locate=i(L))})(function(i){var o=function(t,e,n){n=n.split(" "),n.forEach(function(r){i.DomUtil[t].call(this,e,r)})},s=function(t,e){o("addClass",t,e)},a=function(t,e){o("removeClass",t,e)},v=i.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPan",keepCurrentZoomLevel:!1,flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,markerClass:i.CircleMarker,circleStyle:{color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:2,opacity:.5},markerStyle:{color:"#136AEC",fillColor:"#2A93EE",fillOpacity:.7,weight:2,opacity:.9,radius:5},followCircleStyle:{},followMarkerStyle:{},icon:"fa fa-map-marker",iconLoading:"fa fa-spinner fa-spin",iconElementTag:"span",circlePadding:[0,0],metric:!0,createButtonCallback:function(t,e){var n=i.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",t);n.title=e.strings.title;var r=i.DomUtil.create(e.iconElementTag,e.icon,n);return{link:n,icon:r}},onLocationError:function(t,e){alert(t.message)},onLocationOutsideMapBounds:function(t){t.stop(),alert(t.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize:function(t){for(var e in t)typeof this.options[e]=="object"?i.extend(this.options[e],t[e]):this.options[e]=t[e];this.options.followMarkerStyle=i.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=i.extend({},this.options.circleStyle,this.options.followCircleStyle)},onAdd:function(t){var e=i.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._layer=this.options.layer||new i.LayerGroup,this._layer.addTo(t),this._event=void 0,this._prevBounds=null;var n=this.options.createButtonCallback(e,this.options);return this._link=n.link,this._icon=n.icon,i.DomEvent.on(this._link,"click",i.DomEvent.stopPropagation).on(this._link,"click",i.DomEvent.preventDefault).on(this._link,"click",this._onClick,this).on(this._link,"dblclick",i.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),e},_onClick:function(){if(this._justClicked=!0,this._userPanned=!1,this._active&&!this._event)this.stop();else if(this._active&&this._event!==void 0){var t=this._map.getBounds().contains(this._event.latlng)?this.options.clickBehavior.inView:this.options.clickBehavior.outOfView;switch(t){case"setView":this.setView();break;case"stop":if(this.stop(),this.options.returnToPrevBounds){var e=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;e.bind(this._map)(this._prevBounds)}break}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start:function(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop:function(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},_activate:function(){this._active||(this._map.locate(this.options.locateOptions),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this))},_deactivate:function(){this._map.stopLocate(),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this)},setView:function(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this.options.keepCurrentZoomLevel){var t=this.options.flyTo?this._map.flyTo:this._map.panTo;t.bind(this._map)([this._event.latitude,this._event.longitude])}else{var t=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;t.bind(this._map)(this._event.bounds,{padding:this.options.circlePadding,maxZoom:this.options.locateOptions.maxZoom})}},_drawMarker:function(){this._event.accuracy===void 0&&(this._event.accuracy=0);var t=this._event.accuracy,e=this._event.latlng;if(this.options.drawCircle){var n=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(e).setRadius(t).setStyle(n):this._circle=i.circle(e,t,n).addTo(this._layer)}var r,h;if(this.options.metric?(r=t.toFixed(0),h=this.options.strings.metersUnit):(r=(t*3.2808399).toFixed(0),h=this.options.strings.feetUnit),this.options.drawMarker){var _=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(e),this._marker.setStyle&&this._marker.setStyle(_)):this._marker=new this.options.markerClass(e,_).addTo(this._layer)}var f=this.options.strings.popup;this.options.showPopup&&f&&this._marker&&this._marker.bindPopup(i.Util.template(f,{distance:r,unit:h}))._popup.setLatLng(e)},_removeMarker:function(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload:function(){this.stop(),this._map.off("unload",this._unload,this)},_onLocationError:function(t){t.code==3&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(t,this))},_onLocationFound:function(t){if(!(this._event&&this._event.latlng.lat===t.latlng.lat&&this._event.latlng.lng===t.latlng.lng&&this._event.accuracy===t.accuracy)&&this._active){switch(this._event=t,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"always":this.setView();break}this._justClicked=!1}},_onDrag:function(){this._event&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing:function(){if(!this._active)return!1;if(this.options.setView==="always")return!0;if(this.options.setView==="untilPan")return!this._userPanned},_isOutsideMapBounds:function(){return this._event===void 0?!1:this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle:function(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses:function(t){t=="requesting"?(a(this._container,"active following"),s(this._container,"requesting"),a(this._icon,this.options.icon),s(this._icon,this.options.iconLoading)):t=="active"?(a(this._container,"requesting following"),s(this._container,"active"),a(this._icon,this.options.iconLoading),s(this._icon,this.options.icon)):t=="following"&&(a(this._container,"requesting"),s(this._container,"active following"),a(this._icon,this.options.iconLoading),s(this._icon,this.options.icon))},_cleanClasses:function(){i.DomUtil.removeClass(this._container,"requesting"),i.DomUtil.removeClass(this._container,"active"),i.DomUtil.removeClass(this._container,"following"),a(this._icon,this.options.iconLoading),s(this._icon,this.options.icon)},_resetVariables:function(){this._active=!1,this._justClicked=!1,this._userPanned=!1}});return i.control.locate=function(t){return new i.Control.Locate(t)},v},window)})(u)),u.exports}var d=y();const w=g(d),b=k({__proto__:null,default:w},[d]);export{b as L};
//# sourceMappingURL=L.Control.Locate-Cz34Ov6I.js.map
