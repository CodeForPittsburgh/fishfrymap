/*! Version: 0.6.1
Date: 2018-04-30 */L.Control.GroupedLayers=L.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,exclusiveGroups:[],groupCheckboxes:!1},initialize:function(e,t,a){var r,s;L.Util.setOptions(this,a),this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._groupList=[],this._domGroups=[];for(r in e)this._addLayer(e[r],r);for(r in t)for(s in t[r])this._addLayer(t[r][s],s,r,!0)},onAdd:function(e){return this._initLayout(),this._update(),e.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(e){e.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._update(),this},addOverlay:function(e,t,a){return this._addLayer(e,t,a,!0),this._update(),this},removeLayer:function(e){var t=L.Util.stamp(e),a=this._getLayer(t);return a&&delete this._layers[this._layers.indexOf(a)],this._update(),this},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&L.stamp(this._layers[t].layer)===e)return this._layers[t]},_initLayout:function(){var e="leaflet-control-layers",t=this._container=L.DomUtil.create("div",e);t.setAttribute("aria-haspopup",!0),L.Browser.touch?L.DomEvent.on(t,"click",L.DomEvent.stopPropagation):(L.DomEvent.disableClickPropagation(t),L.DomEvent.on(t,"wheel",L.DomEvent.stopPropagation));var a=this._form=L.DomUtil.create("form",e+"-list");if(this.options.collapsed){L.Browser.android||L.DomEvent.on(t,"mouseover",this._expand,this).on(t,"mouseout",this._collapse,this);var r=this._layersLink=L.DomUtil.create("a",e+"-toggle",t);r.href="#",r.title="Layers",L.Browser.touch?L.DomEvent.on(r,"click",L.DomEvent.stop).on(r,"click",this._expand,this):L.DomEvent.on(r,"focus",this._expand,this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=L.DomUtil.create("div",e+"-base",a),this._separator=L.DomUtil.create("div",e+"-separator",a),this._overlaysList=L.DomUtil.create("div",e+"-overlays",a),t.appendChild(a)},_addLayer:function(e,t,a,r){var s=(L.Util.stamp(e),{layer:e,name:t,overlay:r});this._layers.push(s),a=a||"";var i=this._indexOf(this._groupList,a);i===-1&&(i=this._groupList.push(a)-1);var n=this._indexOf(this.options.exclusiveGroups,a)!==-1;s.group={name:a,id:i,exclusive:n},this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="",this._domGroups.length=0;for(var r,e,t=!1,a=!1,r=0;r<this._layers.length;r++)e=this._layers[r],this._addItem(e),a=a||e.overlay,t=t||!e.overlay;this._separator.style.display=a&&t?"":"none"}},_onLayerChange:function(e){var t,a=this._getLayer(L.Util.stamp(e.layer));a&&(this._handlingClick||this._update(),t=a.overlay?e.type==="layeradd"?"overlayadd":"overlayremove":e.type==="layeradd"?"baselayerchange":null,t&&this._map.fire(t,a))},_createRadioElement:function(e,t){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"';t&&(a+=' checked="checked"'),a+="/>";var r=document.createElement("div");return r.innerHTML=a,r.firstChild},_addItem:function(e){var t,a,r,s=document.createElement("label"),i=this._map.hasLayer(e.layer);e.overlay?e.group.exclusive?(r="leaflet-exclusive-group-layer-"+e.group.id,t=this._createRadioElement(r,i)):(t=document.createElement("input"),t.type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=i):t=this._createRadioElement("leaflet-base-layers",i),t.layerId=L.Util.stamp(e.layer),t.groupID=e.group.id,L.DomEvent.on(t,"click",this._onInputClick,this);var n=document.createElement("span");if(n.innerHTML=" "+e.name,s.appendChild(t),s.appendChild(n),e.overlay){a=this._overlaysList;var o=this._domGroups[e.group.id];if(!o){o=document.createElement("div"),o.className="leaflet-control-layers-group",o.id="leaflet-control-layers-group-"+e.group.id;var h=document.createElement("label");if(h.className="leaflet-control-layers-group-label",e.group.name!==""&&!e.group.exclusive&&this.options.groupCheckboxes){var l=document.createElement("input");l.type="checkbox",l.className="leaflet-control-layers-group-selector",l.groupID=e.group.id,l.legend=this,L.DomEvent.on(l,"click",this._onGroupInputClick,l),h.appendChild(l)}var d=document.createElement("span");d.className="leaflet-control-layers-group-name",d.innerHTML=e.group.name,h.appendChild(d),o.appendChild(h),a.appendChild(o),this._domGroups[e.group.id]=o}a=o}else a=this._baseLayersList;return a.appendChild(s),s},_onGroupInputClick:function(){var e,t,a,r=this.legend;r._handlingClick=!0;var s=r._form.getElementsByTagName("input"),i=s.length;for(e=0;i>e;e++)t=s[e],t.groupID===this.groupID&&t.className==="leaflet-control-layers-selector"&&(t.checked=this.checked,a=r._getLayer(t.layerId),t.checked&&!r._map.hasLayer(a.layer)?r._map.addLayer(a.layer):!t.checked&&r._map.hasLayer(a.layer)&&r._map.removeLayer(a.layer));r._handlingClick=!1},_onInputClick:function(){var e,t,a,r=this._form.getElementsByTagName("input"),s=r.length;for(this._handlingClick=!0,e=0;s>e;e++)t=r[e],t.className==="leaflet-control-layers-selector"&&(a=this._getLayer(t.layerId),t.checked&&!this._map.hasLayer(a.layer)?this._map.addLayer(a.layer):!t.checked&&this._map.hasLayer(a.layer)&&this._map.removeLayer(a.layer));this._handlingClick=!1},_expand:function(){L.DomUtil.addClass(this._container,"leaflet-control-layers-expanded");var e=this._map._size.y-4*this._container.offsetTop;e<this._form.clientHeight&&(L.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=e+"px")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")},_indexOf:function(e,t){for(var a=0,r=e.length;r>a;a++)if(e[a]===t)return a;return-1}}),L.control.groupedLayers=function(e,t,a){return new L.Control.GroupedLayers(e,t,a)};
//# sourceMappingURL=leaflet.groupedlayercontrol.min-B0gLtncA.js.map
